var documenterSearchIndex = {"docs":
[{"location":"#WorldOceanAtlasTools.jl-Documentation","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"This package provides tools for downloading and using data from the World Ocean Atlas (WOA).","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"Like with every Julia package, you must start with","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> using WorldOceanAtlasTools","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"By default, the latest WOA18 data is used.","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"Below are examples.","category":"page"},{"location":"#Get-WOA-observations","page":"WorldOceanAtlasTools.jl Documentation","title":"Get WOA observations","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To get a list of observations as a table, simply call observations(tracer):","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> Pobs = WorldOceanAtlasTools.observations(\"PO4\")\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_360x180\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n1312523×4 DataFrame\n     Row │ lat      lon      depth      PO4\n         │ Float32  Float32  Quantity…  Quantity…\n─────────┼────────────────────────────────────────────────\n       1 │   -77.5   -178.5      0.0 m  1.35075 μmol kg⁻¹\n       2 │   -77.5   -177.5      0.0 m  1.28211 μmol kg⁻¹\n    ⋮    │    ⋮        ⋮         ⋮              ⋮\n 1312522 │    52.5   -163.5   5500.0 m  2.42341 μmol kg⁻¹\n 1312523 │    53.5   -158.5   5500.0 m  2.45224 μmol kg⁻¹\n                                      1312519 rows omitted","category":"page"},{"location":"#Get-gridded-WOA-data","page":"WorldOceanAtlasTools.jl Documentation","title":"Get gridded WOA data","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To get the 3D field of the \"statistical mean\" climatological concentration of phosphate from the World Ocean Atlas 2018 product at 5-degree resolution, use get_3D_field:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> WorldOceanAtlasTools.get_3D_field(\"PO4\"; field=\"mn\", resolution=\"5°\")\nGetting the 3D field of WOA18 Annual phosphate 73x36 data\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_73x36\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n  Rearranging data\n36×72×102 Array{Union{Missing, Float32}, 3}:\n[:, :, 1] =\n  missing   missing  …   missing   missing\n  missing   missing      missing   missing\n ⋮                   ⋱  ⋮\n 0.563333  0.69         0.61      0.62\n 0.78      0.455     …  0.525     0.638659\n\n[:, :, 2] =\n  missing   missing  …   missing   missing\n  missing   missing      missing   missing\n ⋮                   ⋱  ⋮\n 0.563014  0.69         0.612773  0.624986\n 0.781124  0.446186  …  0.525     0.77\n\n;;; …\n\n[:, :, 101] =\n missing  missing  …  missing  missing\n missing  missing     missing  missing\n ⋮                 ⋱  ⋮\n missing  missing     missing  missing\n missing  missing  …  missing  missing\n\n[:, :, 102] =\n missing  missing  …  missing  missing\n missing  missing     missing  missing\n ⋮                 ⋱  ⋮\n missing  missing     missing  missing\n missing  missing  …  missing  missing","category":"page"},{"location":"#Regridding-WOA-data-to-an-AIBECS-grid","page":"WorldOceanAtlasTools.jl Documentation","title":"Regridding WOA data to an AIBECS grid","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To \"regrid\" WOA data (using a nearest-neighbour algorithm) to an AIBECS grid, you can use fit_to_grid:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> using AIBECS\n\njulia> grd, _ = OCIM2.load();\n┌ Info: You are about to use the OCIM2_CTL_He model.\n│ If you use it for research, please cite:\n│\n│ - DeVries, T., & Holzer, M. (2019). Radiocarbon and helium isotope constraints on deep ocean ventilation and mantle‐³He sources. Journal of Geophysical Research: Oceans, 124, 3036–3057. https://doi.org/10.1029/2018JC014716\n│\n│ You can find the corresponding BibTeX entries in the CITATION.bib file\n│ at the root of the AIBECS.jl package repository.\n└ (Look for the \"DeVries_Holzer_2019\" key.)\n\njulia> μPO43D, σPO43D = WorldOceanAtlasTools.fit_to_grid(grd, \"PO₄\");\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_360x180\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n  Reading NetCDF file\n  Rearranging data\n  Filtering data\n  Averaging data over each grid box\n  Setting μ = 0 and σ² = ∞ where no obs\n  Setting a realistic minimum for σ²","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"This will use the \"objectively analyzed mean\" (because it is more filled than the statistical mean), which is at 1° resolution.","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"You can check the size of μPO43D and rearrange it to work with model vectors:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> size(μPO43D), size(grd) # Check that the variable has the same size\n((91, 180, 24), (91, 180, 24))\n\njulia> PO4obs = vectorize(μPO43D, grd) # rearrange as a vector of wet-box values only\n200160-element Vector{Float64}:\n 1.916053578257561e-6\n 1.9119117371737955e-6\n 1.8802444487810134e-6\n ⋮\n 1.5629494562745093e-6\n 1.5608462169766426e-6\n 1.544798031449318e-6","category":"page"},{"location":"#Reference-(function-docstrings)","page":"WorldOceanAtlasTools.jl Documentation","title":"Reference (function docstrings)","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"get_3D_field\nget_gridded_3D_field\nfit_to_grid\nobservations","category":"page"}]
}
