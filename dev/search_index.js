var documenterSearchIndex = {"docs":
[{"location":"#WorldOceanAtlasTools.jl-Documentation","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"This package provides tools for downloading and using data from the World Ocean Atlas (WOA).","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"Like with every Julia package, you must start with","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> using WorldOceanAtlasTools","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"By default, the latest WOA18 data is used.","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"Below are examples.","category":"page"},{"location":"#Get-WOA-observations","page":"WorldOceanAtlasTools.jl Documentation","title":"Get WOA observations","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To get a list of observations as a table, simply call observations(tracer):","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> Pobs = WorldOceanAtlasTools.observations(\"PO4\")\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_360x180\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n1312523×4 DataFrame\n     Row │ lat      lon      depth      PO4\n         │ Float32  Float32  Quantity…  Quantity…\n─────────┼────────────────────────────────────────────────\n       1 │   -77.5   -178.5      0.0 m  1.35075 μmol kg⁻¹\n       2 │   -77.5   -177.5      0.0 m  1.28211 μmol kg⁻¹\n    ⋮    │    ⋮        ⋮         ⋮              ⋮\n 1312522 │    52.5   -163.5   5500.0 m  2.42341 μmol kg⁻¹\n 1312523 │    53.5   -158.5   5500.0 m  2.45224 μmol kg⁻¹\n                                      1312519 rows omitted","category":"page"},{"location":"#Get-gridded-WOA-data","page":"WorldOceanAtlasTools.jl Documentation","title":"Get gridded WOA data","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To get the 3D field of the \"statistical mean\" climatological concentration of phosphate from the World Ocean Atlas 2018 product at 5-degree resolution, use get_3D_field:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> WorldOceanAtlasTools.get_3D_field(\"PO4\"; field=\"mn\", resolution=\"5°\")\nGetting the 3D field of WOA18 Annual phosphate 73x36 data\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_73x36\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n  Rearranging data\n36×72×102 Array{Union{Missing, Float32}, 3}:\n[:, :, 1] =\n  missing   missing  …   missing   missing\n  missing   missing      missing   missing\n ⋮                   ⋱  ⋮\n 0.563333  0.69         0.61      0.62\n 0.78      0.455     …  0.525     0.638659\n\n[:, :, 2] =\n  missing   missing  …   missing   missing\n  missing   missing      missing   missing\n ⋮                   ⋱  ⋮\n 0.563014  0.69         0.612773  0.624986\n 0.781124  0.446186  …  0.525     0.77\n\n;;; …\n\n[:, :, 101] =\n missing  missing  …  missing  missing\n missing  missing     missing  missing\n ⋮                 ⋱  ⋮\n missing  missing     missing  missing\n missing  missing  …  missing  missing\n\n[:, :, 102] =\n missing  missing  …  missing  missing\n missing  missing     missing  missing\n ⋮                 ⋱  ⋮\n missing  missing     missing  missing\n missing  missing  …  missing  missing","category":"page"},{"location":"#Regridding-WOA-data-to-an-AIBECS-grid","page":"WorldOceanAtlasTools.jl Documentation","title":"Regridding WOA data to an AIBECS grid","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"To \"regrid\" WOA data (using a nearest-neighbour algorithm) to an AIBECS grid, you can use fit_to_grid:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> using AIBECS\n\njulia> grd, _ = OCIM2.load();\n┌ Info: You are about to use the OCIM2_CTL_He model.\n│ If you use it for research, please cite:\n│\n│ - DeVries, T., & Holzer, M. (2019). Radiocarbon and helium isotope constraints on deep ocean ventilation and mantle‐³He sources. Journal of Geophysical Research: Oceans, 124, 3036–3057. https://doi.org/10.1029/2018JC014716\n│\n│ You can find the corresponding BibTeX entries in the CITATION.bib file\n│ at the root of the AIBECS.jl package repository.\n└ (Look for the \"DeVries_Holzer_2019\" key.)\n\njulia> μPO43D, σPO43D = WorldOceanAtlasTools.fit_to_grid(grd, \"PO₄\");\nRegistering World Ocean Atlas data with DataDeps\n┌ Warning: You are about to use World Ocean Atlas data 18.\n│\n│ Please cite the following corresponding reference(s):\n│ Garcia et al. (2018), World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)\n└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:223\n┌ Warning: Over-writing registration of the datadep\n│   name = \"WOA18_Annual_phosphate_360x180\"\n└ @ DataDeps ~/.julia/packages/DataDeps/ooWXe/src/registration.jl:15\n  Reading NetCDF file\n  Rearranging data\n  Filtering data\n  Averaging data over each grid box\n  Setting μ = 0 and σ² = ∞ where no obs\n  Setting a realistic minimum for σ²","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"This will use the \"objectively analyzed mean\" (because it is more filled than the statistical mean), which is at 1° resolution.","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"You can check the size of μPO43D and rearrange it to work with model vectors:","category":"page"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"julia> size(μPO43D), size(grd) # Check that the variable has the same size\n((91, 180, 24), (91, 180, 24))\n\njulia> PO4obs = vectorize(μPO43D, grd) # rearrange as a vector of wet-box values only\n200160-element Vector{Float64}:\n 1.916053578257561e-6\n 1.9119117371737955e-6\n 1.8802444487810134e-6\n ⋮\n 1.5629494562745093e-6\n 1.5608462169766426e-6\n 1.544798031449318e-6","category":"page"},{"location":"#Reference-(function-docstrings)","page":"WorldOceanAtlasTools.jl Documentation","title":"Reference (function docstrings)","text":"","category":"section"},{"location":"","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.jl Documentation","text":"Modules = [WorldOceanAtlasTools]\nOrder   = [:function, :type]","category":"page"},{"location":"#WorldOceanAtlasTools.convert_to_Unitful-Tuple{String}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.convert_to_Unitful","text":"convert_WOAunits_to_unitful(s)\n\nConverts the string from WOA's units attribute to a Unitful.jl unit.\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.fit_to_grid-Tuple{OceanGrids.OceanGrid, Any}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.fit_to_grid","text":"fit_to_grid(grid, tracer; product_year=2018, period=0, resolution=1, field=\"an\")\n\nReturns χ_3D, σ²_3D of \"regridded\" WOA data using a nearest neighbor approach.\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.get_3D_field-Tuple{Any}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.get_3D_field","text":"get_3D_field(tracer; product_year=2018, period=0, resolution=1, field=\"an\")\n\nDownloads and returns the 3D field of a tracer from the World Ocean Atlas.\n\nTracers are either \"phosphate\", \"nitrate\", or \"silicate\". Availabe product years are 2009, 2013, and 2018 (default: 2018). Resolution is either \"5°\", \"1°\", or \"0.25°\" (default: 1°). Fields are \"mean\" or \"an\" (for objectively analyzed climatology). (default = \"an\".)\n\nNote that WOA's nomenclature should work too, e.g., \"p\" for \"phosphate\", \"mn\" for \"mean\", and so on.\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.mean_std_and_number_obs-Tuple{Any, Any}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.mean_std_and_number_obs","text":"mean_std_and_number_obs(ds, tracer)\n\nReturns a DataFrame containing the following columns lat, lon, depth, mean, std, nobs\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.observations-Tuple{String}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.observations","text":"observations(tracer::String; metadatakeys=(\"lat\", \"lon\", \"depth\"))\n\nReturns observations of tracer with its metadata.\n\nExample\n\nobs = observations(\"po4\")\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.register_WOA-Tuple{Any}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.register_WOA","text":"register_WOA(tracer; product_year=2018, period=0, resolution=1)\n\nRegisters a datadep for the variable tracer averaged over period at resolution resolution.\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.url_WOA-Tuple{Any}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.url_WOA","text":"url_WOA(tracer; product_year=2018, period=0, resolution=1)\n\nReturns the URL (String) for the NetCDF file of the World Ocean Atlas. This URL String typically looks like     \"https://data.nodc.noaa.gov/woa/WOA13/DATAv2/phosphate/netcdf/all/1.00/woa13_all_p00_01.nc\"\n\n\n\n\n\n","category":"method"},{"location":"#WorldOceanAtlasTools.varname-Tuple{String}","page":"WorldOceanAtlasTools.jl Documentation","title":"WorldOceanAtlasTools.varname","text":"varname(tracer)\n\nReturns the World Ocean Data variable name that \"matches\" tracer.\n\n\n\n\n\n","category":"method"}]
}
